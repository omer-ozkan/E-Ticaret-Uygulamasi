<app-blank pageTitle="Kullanıcılar" [breadcrumbs]="[{title: 'Kullanıcılar', url: '/users', icon: 'group'}]"></app-blank>

<flexi-grid
[data]="data()"
[loading]="loading()"
language="tr"
[showCaption]="true"
captionTitle="Kullanıcı Listesi"
[showExportExcelBtn]="true"
exportExcelFileName="Kullanicilar"
(onRefresh)="result.reload()"
>

<ng-template flexiGridCaptionCommandTemplate>
    <flexi-button routerLink="/users/create" btnIcon="add" btnColor="primary" title="Kullanıcı Ekle" flexiToolTip></flexi-button>
</ng-template>

<flexi-grid-column field="firstName" title="Kullanıcı Adı"></flexi-grid-column>
<flexi-grid-column field="lastName" title="Kullanıcı Soyadı"></flexi-grid-column>
<flexi-grid-column field="fullName" title="Kullanıcı Tam Adı"></flexi-grid-column>
<flexi-grid-column field="userName" title="User Name"></flexi-grid-column>
<flexi-grid-column field="email" title="Mail Adresi"></flexi-grid-column>
<flexi-grid-column field="isAdmin" title="Admin mi?" textAlign="center" filterType="boolean" [booleanData]="['Admin','Admin Değil']">

    <ng-template flexiGridCellTemplate let-item>
        <div class="d-flex justify-content-center ">
            <div class="form-check form-switch">
                <input (change)="changeIsAdmin(item)" class="form-check-input" type="checkbox" role="switch" id="item.id" [(ngModel)]="item.isAdmin" name="item.id">
            </div>
        </div>
    </ng-template>

</flexi-grid-column>

<ng-template flexiGridColumnCommandTemplate let-item>
    <flexi-button [routerLink]="['/','users',item.id]" btnIcon="edit" btnColor="info" title="Güncelle" btnSize="small" flexiToolTip></flexi-button>
    <flexi-button (click)="delete(item.id)" btnIcon="delete" btnColor="danger" title="Sil" btnSize="small" flexiToolTip></flexi-button>
</ng-template>


</flexi-grid>
